using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using MalwareHunt;
using MalwareHunt.Objects;
using MongoDB.Driver;

namespace MalwareHuntServer.DataProviders
{
    public class MachinesProvider : AbstractProvider<MachinesProvider, Machine>
    {
        IMongoDatabase m_database;
        IMongoCollection<Machine> m_collection;

        public MachinesProvider()
        {
            m_database = DBManager.Instance.Database;
            m_collection = m_database.GetCollection<Machine>("machines");
        }
        public override BindingList<Machine> GetAll()
        {
            DataList.Clear();
            DataList =new BindingList<Machine>( m_collection.AsQueryable().ToList());
            return DataList;
        }

    }
}
